{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/find_tuitions.css' %}">
{% endblock %}

{% block content %}
<h2 style="text-align: center; margin-bottom: 2rem;color:blue;margin-top:30px;font-weight: bold;">Find Tuitions</h2>
<div class="container mt-4">

  <!-- ✅ Filter Form -->
  <form method="GET" action="{% url 'find_tuitions' %}" class="mb-6 p-4 bg-white rounded shadow flex flex-wrap gap-4" style="text-align: center;">
   <input type="text" name="location" placeholder="Location" value="{{ request.GET.location }}" style="padding: 8px; margin: 5px; border-radius: 5px; width: 180px;">
    <input type="text" name="subject" placeholder="Subject" value="{{ request.GET.subject }}" style="padding: 8px; margin: 5px; border-radius: 5px; width: 180px;">
    <input type="number" name="salary" placeholder="Max Salary" value="{{ request.GET.salary }}" style="padding: 8px; margin: 5px; border-radius: 5px; width: 180px;">
    <button type="submit" style="padding: 8px 16px; background-color: #007bff; color: white; border: none; border-radius: 5px; width: 100px;">Search</button>
   <button type="button" onclick="window.location.href='{% url 'tuition_post' %}'" style="padding: 8px 16px; background-color: #dc3545; color: white; border: none; border-radius: 5px; width: 100px; height: 40px;">Reset</button>

  </form>


  {% if posts %}
    {% for post in posts %}
      <div class="tuition-card">
        <!-- Title -->
        <h3 class="title">Tutor Needed For {{ post.subject }} ({{ post.student_class }})</h3>

        <!-- Tags -->
        <div class="tags">
          <span class="tag home">Home Tutoring</span>
          <span class="tag time">Posted just now</span>
        </div>

        <!-- 3 Columns -->
        <div class="tuition-card-body">
          <div class="column">
            <p><strong>Medium:</strong> {{ post.medium }}</p>
            <p><strong>Tutoring Days:</strong> {{ post.tutoring_days }} days/week</p>
            <p><strong>District:</strong> {{ post.district }}</p>
            <p><strong>Location:</strong> {{ post.location }}</p>
          </div>

          <div class="column">
            <p><strong>Class:</strong> {{ post.student_class }}</p>
            <p><strong>Subject:</strong> {{ post.subject }}</p>
            <p><strong>Contact:</strong> {{ post.contact_number }}</p>
          </div>

          <div class="column">
            <p><strong>Preferred Tutor:</strong> {{ post.preferred_tutor }}</p>
            <p><strong>Salary:</strong> <span class="salary">৳{{ post.salary }}</span> / Month</p>
          </div>
        </div>

        <!-- Action buttons -->
        <div class="card-actions">
          <a href="{% url 'update' post.id %}" class="btn update">Update</a>
          <a href="{% url 'delete' post.id %}" class="btn delete">Delete</a>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <p class="text-gray-600">No tuition requests found.</p>
  {% endif %}
</div>

{% endblock %}
